"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[1134,7505,3164,5110,3535,9862,1285,3348,6112],{7505:function(n,e,r){r.r(e),r.d(e,{ErrorMessage:function(){return c}});var t=r(7573),o=r(5247),i=r(588),u=r(2007),a=r(184),c=function(n){var e=n.error;return console.error(e),(0,a.jsxs)(o.Container,{children:[(0,a.jsx)(i.IconError,{size:40,color:"var(--color-blue)"}),(0,a.jsx)(o.Caption,{children:"Something went wrong"}),(0,a.jsx)(o.Text,{children:e.code}),(0,a.jsx)(t.LinkButton,{to:"/",style:{textTransform:"capitalize"},children:"Go to the homepage"})]})};c.propType={error:(0,u.shape)({message:u.string,code:u.string})}},3164:function(n,e,r){r.r(e);var t=r(1413),o=r(9439),i=r(5987),u=r(2791),a=r(1087),c=r(5110),l=r(1285),s=r(588),d=r(184),f=["style","onSubmit","onChange"];e.default=function(n){var e=n.style,r=n.onSubmit,h=n.onChange,g=(0,i.Z)(n,f),p=(0,u.useState)(""),v=(0,o.Z)(p,2),b=v[0],x=v[1],m=(0,a.lr)(),Z=(0,o.Z)(m,1)[0];(0,u.useEffect)((function(){var n;x(null!==(n=Z.get("query"))&&void 0!==n?n:"")}),[Z]);return(0,d.jsx)(c.Container,{style:e,children:(0,d.jsxs)(c.SearchForm,{onSubmit:function(n){n.preventDefault(),r&&r(b,n)},children:[(0,d.jsx)(l.default,(0,t.Z)({autocomplete:"off",placeholder:"Search movies...",onChange:function(n){var e=(null===n||void 0===n?void 0:n.target.value.trim())||"";x(e),h&&h(e,n)},value:b},g)),(0,d.jsx)(c.SearchBtn,{type:"submit",disabled:!b,children:(0,d.jsx)(s.IconSearch,{size:"100%"})})]})})}},5110:function(n,e,r){r.r(e),r.d(e,{Container:function(){return s},SearchBtn:function(){return f},SearchForm:function(){return d}});var t,o,i,u=r(168),a=r(3820),c=r(7573),l=r(2703),s=a.Z.div(t||(t=(0,u.Z)(["\n  height: ",";\n  width: ",";\n  margin: 0 auto 0 auto;\n\n  border: 1px solid rgb(var(--color-blue-rgb), 0.5);\n  border-radius: var(--border-radius);\n  overflow: hidden;\n\n  ",";\n\n  &:focus-within {\n    box-shadow: 0 0 0 0.3rem rgb(var(--color-blue-rgb), 0.2);\n    border-color: rgb(var(--color-blue-rgb), 0.7);\n  }\n\n  @media screen and (min-width: 768px) {\n    width: 70%;\n  }\n"])),(function(n){var e=n.height;return(0,l.calcCSSValue)(e)||"100%"}),(function(n){var e=n.width;return(0,l.calcCSSValue)(e)||"100%"}),(0,c.TransitionBase)("box-shadow border-color")),d=a.Z.form(o||(o=(0,u.Z)(["\n  ",";\n\n  height: 100%;\n  width: 100%;\n  border-radius: unset;\n"])),(0,c.FlexCentered)()),f=(0,a.Z)(c.ButtonPrimary)(i||(i=(0,u.Z)(["\n  height: 100%;\n  padding: 8px 15px 8px 15px;\n  border-radius: unset;\n  background-color: var(--color-blue);\n"])))},3535:function(n,e,r){r.r(e),r.d(e,{LoadMoreBtn:function(){return d}});var t=r(1413),o=r(9439),i=r(5987),u=r(2791),a=r(9862),c=r(2007),l=r(184),s=["onClick","centered"],d=function(n){var e=n.onClick,r=n.centered,c=void 0===r||r,d=(0,i.Z)(n,s),f=(0,u.useState)(!1),h=(0,o.Z)(f,2),g=h[0],p=h[1],v=(0,u.useRef)(null),b=(0,u.useRef)(null),x=(0,u.useRef)(null),m=(0,u.useRef)(1);(0,u.useEffect)((function(){var n=v.current;return x.current=new IntersectionObserver((function(){return p(!1)})),x.current.observe(n),b.current=v.current.getBoundingClientRect(),function(){return x.current.unobserve(n)}}),[]);var Z=b.current||"",S=Z.width,C=Z.height,w=(0,t.Z)({width:S,height:C},d);return(0,l.jsx)(a.Button,(0,t.Z)((0,t.Z)({ref:v,onClick:function(n){p(!0),m.current+=1,e&&e(m.current,n)},centered:c,isLoading:g},w),{},{children:g?(0,l.jsx)(a.Spinner,{size:.5*C}):"Load more"}))};d.propType={onClick:c.func,centered:c.bool}},9862:function(n,e,r){r.r(e),r.d(e,{Button:function(){return l},Spinner:function(){return s}});var t,o,i=r(168),u=r(3820),a=r(7573),c=r(2703),l=(0,u.Z)(a.ButtonSecondary)(t||(t=(0,i.Z)(["\n  ",";\n\n  margin-left: ",";\n  margin-right: ",";\n\n  width: ",";\n  height: ",";\n\n  /*\n    \u041f\u043e\u043a\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u0441\u043e \u0441\u043f\u0438\u043d\u0435\u0440\u043e\u043c - \u043d\u0435 \u0443\u0431\u0438\u0440\u0430\u0435\u043c \u0446\u0432\u0435\u0442\u043e \u0444\u043e\u043d\u0430\n    \u0418\u043d\u0430\u0447\u0435, \u0441\u043f\u0438\u043d\u043d\u0435\u0440 \u0441\u043e\u043b\u044c\u0435\u0442\u0441\u044f \u0441 \u0444\u043e\u043d\u043e\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n    \u041c\u043e\u0436\u043d\u043e \u0441\u0434\u043b\u0435\u0430\u0442\u044c, \u0447\u0442\u043e\u0431\u044b \u0446\u0432\u0435\u0442 \u0441\u043f\u0438\u043d\u043d\u0435\u0440\u0430 \u043c\u0435\u043d\u044f\u043b\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u043c \u0444\u043e\u043d\u0435\n  */\n  background-color: ",";\n"])),(0,a.FlexCentered)(),(function(n){return n.centered?"auto":0}),(function(n){return n.centered?"auto":0}),(function(n){var e=n.width;return(0,c.calcCSSValue)(e)}),(function(n){var e=n.height;return(0,c.calcCSSValue)(e)}),(function(n){return n.isLoading?"var(--color-blue)":"transparent"})),s=u.Z.span(o||(o=(0,i.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n\n  border: 2px solid #fff;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n\n  animation: rotation 0.7s linear infinite;\n  opacity: 0.6;\n\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){var e=n.size;return(0,c.calcCSSValue)(e)}),(function(n){var e=n.size;return(0,c.calcCSSValue)(e)}))},3348:function(n,e,r){r.r(e);var t=r(1413),o=r(5987),i=r(6112),u=r(4651),a=r(184),c=["value","type","onChange"];e.default=function(n){var e=n.value,r=n.type,l=n.onChange,s=(0,o.Z)(n,c);return(0,a.jsx)(i.Field,{children:(0,a.jsxs)(i.InputWrapper,{children:[(0,a.jsx)(i.Input,(0,t.Z)({type:r||"text",onChange:l,value:e},s)),e&&(0,a.jsx)(i.ClearBtn,{type:"button",onClick:function(){return l(null)},children:(0,a.jsx)(u.ven,{size:"100%"})})]})})}},6112:function(n,e,r){r.r(e),r.d(e,{ClearBtn:function(){return h},Field:function(){return s},Input:function(){return f},InputWrapper:function(){return d}});var t,o,i,u,a=r(168),c=r(3820),l=r(7573),s=c.Z.label(t||(t=(0,a.Z)(["\n  width: ",";\n  height: ",";\n"])),(function(n){return n.width||"100%"}),(function(n){return n.height||"100%"})),d=c.Z.div(o||(o=(0,a.Z)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n\n  width: 100%;\n  height: ",";\n  color: var(--color-text);\n"])),(function(n){return n.height||"100%"})),f=c.Z.input(i||(i=(0,a.Z)(["\n  height: 100%;\n  width: 100%;\n  padding: 0 40px 0 20px;\n\n  font-family: inherit;\n  font-size: inherit;\n  background-color: white;\n\n  border: unset;\n  outline: none;\n\n  ",";\n\n  &::placeholder {\n    opacity: 0.6;\n    text-transform: capitalize;\n  }\n"])),(0,l.TransitionBase)()),h=(0,c.Z)(l.ButtonBase)(u||(u=(0,a.Z)(["\n  position: absolute;\n  top: 50%;\n  right: 10px;\n\n  height: 60%;\n  padding: 3px;\n\n  color: gray;\n  transform: translateY(-50%);\n  transition-property: color;\n\n  &:focus-visible,\n  &:hover {\n    color: var(--color-black);\n  }\n"])))},1285:function(n,e,r){r.r(e),r.d(e,{default:function(){return t.default}});var t=r(3348)},1134:function(n,e,r){r.r(e);var t=r(3433),o=r(9439),i=r(3164),u=r(2791),a=r(6741),c=r(1087),l=r(5022),s=r(3535),d=r(7505),f=r(2703),h=r(184),g=new l.default,p={height:45,marginBottom:40,marginTop:10};e.default=function(n){var e=n.loader,r=(0,u.useState)(null),l=(0,o.Z)(r,2),v=l[0],b=l[1],x=(0,u.useState)(!1),m=(0,o.Z)(x,2),Z=m[0],S=m[1],C=(0,u.useState)([]),w=(0,o.Z)(C,2),y=w[0],j=w[1],k=(0,u.useState)(null),B=(0,o.Z)(k,2),z=B[0],I=B[1],T=(0,c.lr)(),E=(0,o.Z)(T,2),F=E[0],L=E[1],R=(0,u.useRef)(1),M=(0,u.useRef)(1);(0,u.useEffect)((function(){I({text:F.get("query"),time:Date.now()})}),[F]),(0,u.useEffect)((function(){var n,e=null!==(n=null===z||void 0===z?void 0:z.text)&&void 0!==n?n:"";if(!e)return S(!1),j([]);g.searchMovies(e).then((function(n){var e=n.results,r=n.total_pages;if(!n.total_results)return(0,f.showInfo)("No search results matching your query");j(e),R.current=r})).catch(b)}),[z]);var V=Z&&R.current>0&&M.current<R.current;return v?(0,h.jsx)(d.ErrorMessage,{error:v}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.default,{style:p,onSubmit:function(n){L({query:n})},onChange:function(n){n||L({query:n})}}),(null===y||void 0===y?void 0:y.length)>0&&(0,h.jsx)(a.default,{data:y,loader:e,onLoad:function(){return S(!0)}}),V&&(0,h.jsx)(s.LoadMoreBtn,{onClick:function(n){M.current=n;var e=z.text;g.searchMovies(e,{page:M.current}).then((function(n){var e=n.results;j((function(n){return[].concat((0,t.Z)(n),(0,t.Z)(e))}))})).catch(b)},style:{marginTop:40}})]})}}}]);
//# sourceMappingURL=1134.f1a4b2a6.chunk.js.map