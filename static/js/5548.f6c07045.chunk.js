"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[5548,7643,8011,5022],{5548:function(e,t,n){n.r(t),n.d(t,{Rating:function(){return d}});var r=n(1413),i=n(5987),a=n(2007),o=n(588),u=n(8011),c=n(5022),s=n(2703),p=n(7643),l=n(184),v=["height","vote_average","vote_count","popularity","imdb_id","reviewsCount","id"],h=new c.default,f={target:"_blank",rel:"noopener noreferrer"},d=function(e){var t=e.height,n=void 0===t?40:t,a=e.vote_average,c=e.vote_count,d=(e.popularity,e.imdb_id),g=e.reviewsCount,b=e.id,m=((0,i.Z)(e,v),Number(a));m=m?m.toFixed(1):"N/A";var Z=h.getTmdbUrl(b),k=h.getImdbUrl(d),w=(0,r.Z)({to:Z,title:Z,height:n},f),x=(0,r.Z)({to:k,title:k,height:n},f);return(0,l.jsxs)(p.Ratings,{children:[(0,l.jsx)(p.VoteAverage,(0,r.Z)((0,r.Z)({},w),{},{children:m})),d&&(0,l.jsx)(p.ImdbLink,(0,r.Z)((0,r.Z)({},x),{},{children:(0,l.jsx)(o.IconImdbLogo,{})})),(0,l.jsx)(p.TmdbLink,(0,r.Z)((0,r.Z)({},w),{},{children:(0,l.jsx)(o.IconTmdbLogo,{size:n,title:Z})})),c>0&&(0,l.jsxs)(p.Stat,{children:[(0,l.jsx)("span",{children:(0,s.shortenNum)(c)})," votes"]}),g>0&&(0,l.jsxs)(u.HashBtnLink,{to:"#reviews",style:{padding:"5px 5px 5px 0"},children:[(0,l.jsx)("span",{children:g})," review(s)"]})]})};d.propType={height:(0,a.oneOfType)([a.string,a.number]),vote_average:a.number,vote_count:a.number,popularity:a.number,imdb_id:a.string,reviewsCount:a.number,id:a.number}},7643:function(e,t,n){n.r(t),n.d(t,{ImdbLink:function(){return b},Ratings:function(){return f},Stat:function(){return m},TmdbLink:function(){return Z},VoteAverage:function(){return g}});var r,i,a,o,u,c,s=n(168),p=n(3820),l=n(1087),v=n(7573),h=n(2703),f=p.Z.div(r||(r=(0,s.Z)(["\n  ",";\n\n  @media screen and (min-width: 768px) {\n    justify-content: initial;\n  }\n"])),(0,v.FlexCentered)("gap: 15px; flex-wrap: wrap;")),d=(0,p.Z)(l.rU)(i||(i=(0,s.Z)(["\n  ",";\n  ",";\n\n  height: ",";\n  border-radius: var(--border-radius);\n  color: white;\n\n  &:hover,\n  &:focus-visible {\n    filter: brightness(1.05);\n  }\n"])),(0,v.FlexCentered)(),(0,v.TransitionBase)("filter"),(function(e){var t=e.height;return(0,h.calcCSSValue)(t)})),g=(0,p.Z)(d)(a||(a=(0,s.Z)(["\n  padding: 0 10px 0 10px;\n  font-family: Arial Black;\n  font-size: 22px;\n  line-height: 0;\n  background-color: var(--color-orange);\n"]))),b=(0,p.Z)(d)(o||(o=(0,s.Z)(["\n  padding: 0 7px 0 7px;\n  background-color: var(--color-imdb-yellow);\n\n  & svg {\n    height: 60%;\n  }\n"]))),m=p.Z.span(u||(u=(0,s.Z)(["\n  font-size: 14px;\n  & span {\n    font-weight: bold;\n  }\n"]))),Z=(0,p.Z)(d)(c||(c=(0,s.Z)(["\n  padding: 0 7px 0 7px;\n  background: var(--color-tmdb-gradient);\n\n  & svg {\n    height: 100%;\n  }\n"])))},8011:function(e,t,n){n.r(t),n.d(t,{HashBtnLink:function(){return l}});var r=n(1413),i=n(5987),a=n(7573),o=n(2791),u=n(2007),c=n(184),s=["to","children","scrollOptions"],p={behavior:"smooth",block:"nearest",inline:"nearest"},l=function(e){var t=e.to,n=e.children,u=e.scrollOptions,l=void 0===u?p:u,v=(0,i.Z)(e,s),h=(0,o.useRef)(null);return(0,o.useEffect)((function(){h.current=document.querySelector(String(t)||null)}),[t]),(0,c.jsx)(a.ButtonLink,(0,r.Z)((0,r.Z)({onClick:function(){var e;return null===(e=h.current)||void 0===e?void 0:e.scrollIntoView(l)}},v),{},{children:n}))};l.propType={to:u.string,scrollOptions:(0,u.shape)({behavior:u.string,block:u.string,inline:u.string})}},8029:function(e,t,n){n.r(t),n.d(t,{default:function(){return p}});var r=n(1413),i=n(5671),a=n(3144),o=n(6274),u=n(9359),c=n(2703),s=(0,u.Z)("cache"),p=function(){function e(){(0,i.Z)(this,e),Object.defineProperty(this,s,{writable:!0,value:{}})}return(0,a.Z)(e,[{key:"set",value:function(e,t){(0,c.setProp)((0,o.Z)(this,s)[s],e,t)}},{key:"get",value:function(e){return(0,c.getProp)((0,o.Z)(this,s)[s],e)}},{key:"data",get:function(){return(0,r.Z)({},(0,o.Z)(this,s)[s])}},{key:"clear",value:function(){(0,o.Z)(this,s)[s]={}}}]),e}()},5022:function(e,t,n){n.r(t),n.d(t,{default:function(){return x}});var r=n(9439),i=n(1413),a=n(5861),o=n(5671),u=n(3144),c=n(6274),s=n(9359),p=n(4687),l=n.n(p),v=n(1243),h=n(2703),f=new(n(8029).default),d="https://api.themoviedb.org/3",g="https://image.tmdb.org/t/p",b="https://www.themoviedb.org/movie",m="https://www.imdb.com/title",Z="86d04e898c465c8de09e1ea2fc383ab8",k=(0,s.Z)("response"),w=(0,s.Z)("instance"),x=function(){function e(){if((0,o.Z)(this,e),Object.defineProperty(this,k,{writable:!0,value:void 0}),Object.defineProperty(this,w,{writable:!0,value:void 0}),(0,c.Z)(this,w)[w])return(0,c.Z)(this,w)[w];(0,c.Z)(this,w)[w]=this}return(0,u.Z)(e,[{key:"getImageUrl",value:function(e,t){var n=isNaN(parseInt(t))?"original":"w".concat(t);return"".concat(g,"/").concat(n,"/").concat(e)}},{key:"getTmdbUrl",value:function(e){return"".concat(b,"/").concat(e)}},{key:"getImdbUrl",value:function(e){return"".concat(m,"/").concat(e)}},{key:"fetch",value:function(){var e=(0,a.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.Z.get(t);case 3:return n=e.sent,e.abrupt("return",(0,i.Z)({},(0,c.Z)(this,k)[k]=n));case 7:throw e.prev=7,e.t0=e.catch(0),(0,c.Z)(this,k)[k]=e.t0,e.t0;case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=(0,a.Z)(l().mark((function e(t,n){var i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(d,"/").concat(t,"?api_key=").concat(Z,"&").concat(new URLSearchParams((a=n,(0,h.isObj)(a)?Object.entries(a).reduce((function(e,t){var n=(0,r.Z)(t,2),i=n[0],a=n[1];return e[(0,h.camelToSnake)(i)]=a,e}),{}):{}))),e.next=3,this.fetch(i);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getGenres",value:function(){var e=(0,a.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,h.isArray)(t)){e.next=2;break}return e.abrupt("return",[]);case 2:if(f.get("genres")){e.next=7;break}return e.next=5,this.get("genre/movie/list");case 5:n=e.sent,f.set("genres",n.data.genres);case 7:return e.abrupt("return",f.get("genres").filter((function(e){var n=e.id;return t.includes(n)})).map((function(e){return e.name})));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getTrendingMovies",value:function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("trending/movie/".concat((0,h.normalizeStr)(t)),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=f.get("movie/".concat(t)))){e.next=3;break}return e.abrupt("return",r);case 3:return e.next=5,this.get("movie/".concat(t),n);case 5:return i=e.sent,a=i.data,f.set("movie/".concat(t),a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMovieCredits",value:function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,i,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=f.get("movie/".concat(t,"/credits")))){e.next=3;break}return e.abrupt("return",r);case 3:return e.next=5,this.get("movie/".concat(t,"/credits"),n);case 5:return i=e.sent,a=i.data,f.set("movie/".concat(t,"/credits"),a),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getMovieReviews",value:function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("movie/".concat(t,"/reviews"),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var e=(0,a.Z)(l().mark((function e(t,n){var r,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("search/movie",(0,i.Z)({query:t},n));case 2:return r=e.sent,a=r.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"cache",get:function(){return f.data}}]),e}()}}]);
//# sourceMappingURL=5548.f6c07045.chunk.js.map