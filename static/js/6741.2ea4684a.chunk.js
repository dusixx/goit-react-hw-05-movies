"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[6741,9037,2663,6590,1898,8857,4352,5022],{6741:function(n,e,t){t.r(e);var r=t(1413),i=t(5987),a=t(9439),o=t(2791),u=t(9037),c=t(2663),s=t(4352),d=t(184),l=["id"];e.default=function(n){var e=n.data,t=void 0===e?[]:e,p=(n.sortOptions,n.onLoad),h=n.scrollBy,f=n.loader,v=(0,o.useRef)(null),x=(0,s.useImageGallery)({listRef:v,onLoad:p,data:t,scrollBy:h}),g=(0,a.Z)(x,1)[0],m={};return t.length>0&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(u.List,{ref:v,children:t.map((function(n){var e=n.id,t=(0,i.Z)(n,l);return m[e]?null:(m[e]=!0,(0,d.jsx)(u.Item,{children:(0,d.jsx)(c.MovieGalleryItem,(0,r.Z)({id:e},t))},e))}))}),g&&f]})}},9037:function(n,e,t){t.r(e),t.d(e,{Item:function(){return c},List:function(){return u}});var r,i,a=t(168),o=t(3820),u=o.Z.ul(r||(r=(0,a.Z)(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));\n  grid-gap: 15px;\n"]))),c=o.Z.li(i||(i=(0,a.Z)(["\n  min-height: max-content;\n  position: relative;\n  aspect-ratio: 0.67; // h=1.5w\n"])))},2663:function(n,e,t){t.r(e),t.d(e,{MovieGalleryItem:function(){return f}});var r=t(9439),i=t(5987),a=t(2791),o=t(2703),u=t(5022),c=t(1898),s=t(7573),d=t(6590),l=t(184),p=["id","title","poster_path","vote_average","vote_count","overview","release_date","genre_ids","onLoad"],h=new u.default,f=function(n){var e=n.id,t=n.title,u=n.poster_path,f=n.vote_average,v=n.vote_count,x=n.overview,g=n.release_date,m=n.genre_ids,w=n.onLoad,b=((0,i.Z)(n,p),(0,a.useState)(!1)),Z=(0,r.Z)(b,2),y=Z[0],k=Z[1],j=(0,a.useState)(null),_=(0,r.Z)(j,2),R=_[0],I=_[1],O=(0,a.useRef)(null),z=(0,a.useRef)(w);(0,a.useEffect)((function(){h.getGenres(m).then((function(n){return I(n.join(", "))})).catch(o.showError)}),[m,e,y]),(0,a.useEffect)((function(){!y&&u||z.current&&z.current(O.current)}),[y,u]);var L=f?f.toFixed(1):"N/A",S=null===g||void 0===g?void 0:g.substring(0,4);return(0,l.jsxs)(l.Fragment,{children:[(y||!u)&&(0,l.jsx)(d.Rating,{title:"Votes: ".concat(v),children:L}),(0,l.jsxs)(d.MovieLink,{to:"/movies/".concat(e),children:[!u&&(0,l.jsxs)(d.AltTitle,{children:[t,S&&" (".concat(S,")")]}),u&&(0,l.jsxs)(l.Fragment,{children:[!y&&(0,l.jsx)(s.SpinnerWrapper,{children:(0,l.jsx)(c.Spinner,{spinnerWidth:35})}),(0,l.jsx)(d.Poster,{ref:O,src:h.getImageUrl(u,500),alt:t,onLoad:function(){return k(!0)}})]}),(0,l.jsxs)(d.Overlay,{"data-overlay":!0,children:[t&&(0,l.jsxs)(d.Title,{children:[t,S&&" (".concat(S,")")]}),R&&(0,l.jsx)(d.Genres,{children:R}),x&&(0,l.jsx)(d.Overview,{children:x})]})]})]})}},6590:function(n,e,t){t.r(e),t.d(e,{AltTitle:function(){return b},Genres:function(){return Z},MovieLink:function(){return v},Overlay:function(){return m},Overview:function(){return y},Poster:function(){return g},Rating:function(){return x},Title:function(){return w}});var r,i,a,o,u,c,s,d,l=t(168),p=t(3820),h=t(1087),f=t(7573),v=(0,p.Z)(h.rU)(r||(r=(0,l.Z)(["\n  ","\n\n  position: relative;\n\n  display: block;\n  width: 100%;\n  height: 100%;\n\n  color: var(--color-gray-lighter);\n  border-radius: var(--border-radius);\n  overflow: hidden;\n\n  &:hover,\n  &:focus-visible {\n    & [data-overlay] {\n      opacity: 1;\n    }\n  }\n"])),f.NoPosterBg),x=p.Z.span(i||(i=(0,l.Z)(["\n  ",";\n\n  position: absolute;\n  top: 15px;\n  right: -5px;\n  z-index: 9;\n\n  padding-left: 7px;\n  padding-right: 7px;\n  height: 20px;\n\n  font-size: 16px;\n  line-height: 0;\n\n  @media screen and (max-width: 320px),\n    (min-width: 555px) and (max-width: 650px),\n    (min-width: 800px) and (max-width: 900px) {\n    font-size: 14px;\n    padding: 0 4px 0 4px;\n  }\n\n  background-color: var(--color-orange);\n  border-radius: calc(var(--border-radius) * 0.5);\n  color: white;\n"])),(0,f.FlexCentered)()),g=p.Z.img(a||(a=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n"]))),m=p.Z.div(o||(o=(0,l.Z)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n\n  /* \n    \u041d\u0435 \u0431\u0443\u0434\u0435\u0442 \u0432\u044b\u043f\u0430\u0434\u0430\u0442\u044c \u043c\u0430\u0440\u0436\u0438\u043d, \u043d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u0443 Overview\n    \u041f\u0430\u0434\u0434\u0438\u043d\u0433\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442 \u0434\u043b\u044f \u0432\u0441\u0435\u0433\u043e \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430, \u0432 \u0442\u0447 \u0434\u043b\u044f Overview\n  */\n  display: flex;\n  flex-direction: column;\n  gap: 15px;\n\n  width: 100%;\n  height: 100%;\n\n  padding: 20px;\n  padding-bottom: 30px;\n\n  @media screen and (max-width: 320px),\n    (min-width: 555px) and (max-width: 650px),\n    (min-width: 800px) and (max-width: 900px) {\n    gap: 10px;\n  }\n\n  ",";\n\n  background-color: rgb(0 0 0 / 0.8);\n  opacity: 0;\n"])),(0,f.TransitionBase)("opacity")),w=p.Z.h2(u||(u=(0,l.Z)(["\n  padding-right: 25px;\n\n  font-size: 24px;\n  line-height: 1.1;\n  letter-spacing: -0.2px;\n\n  overflow-wrap: break-word;\n\n  @media screen and (max-width: 320px),\n    (min-width: 555px) and (max-width: 650px),\n    (min-width: 800px) and (max-width: 900px) {\n    font-size: 16px;\n  }\n"]))),b=p.Z.h3(c||(c=(0,l.Z)(["\n  padding: 20px;\n  padding-right: 50px;\n\n  font-family: Arial Black;\n  font-size: 18px;\n  letter-spacing: -0.5px;\n\n  color: rgb(0 0 0 / 0.2);\n  overflow-wrap: break-word;\n\n  @media screen and (max-width: 320px),\n    (min-width: 555px) and (max-width: 650px),\n    (min-width: 800px) and (max-width: 900px) {\n    font-size: 16px;\n  }\n"]))),Z=p.Z.p(s||(s=(0,l.Z)(["\n  font-size: 14px;\n  color: var(--color-orange);\n\n  @media screen and (max-width: 320px),\n    (min-width: 555px) and (max-width: 650px),\n    (min-width: 800px) and (max-width: 900px) {\n    font-size: 12px;\n  }\n"]))),y=p.Z.p(d||(d=(0,l.Z)(["\n  height: 100%;\n  padding-right: 5px;\n\n  font-size: 13px;\n  line-height: 1.1;\n\n  @media screen and (max-width: 320px),\n    (min-width: 555px) and (max-width: 650px),\n    (min-width: 800px) and (max-width: 900px) {\n    font-size: 11px;\n  }\n\n  color: rgba(255 255 255 / 0.5);\n  overflow: auto;\n\n  /* Custom scroll */\n  ::-webkit-scrollbar {\n    width: 3px;\n\n    &-track {\n      background: #f1f1f1;\n    }\n    &-thumb {\n      background: var(--color-blue);\n    }\n    &-thumb:hover {\n      background: var(--color-blue-light);\n    }\n  }\n"])))},8857:function(n,e,t){t.r(e),t.d(e,{Spinner:function(){return s}});var r=t(1413),i=t(5987),a=t(6286),o=t(2007),u=t(184),c=["width"],s=function(n){var e=n.width,t=void 0===e?40:e,o=(0,i.Z)(n,c);return(0,u.jsx)(a.s5,(0,r.Z)({strokeColor:"black",strokeWidth:"3",animationDuration:"0.75",width:t,visible:!0},o))};s.propType={width:(0,o.oneOfType)([o.string,o.number])}},1898:function(n,e,t){t.r(e),t.d(e,{Spinner:function(){return r.Spinner}});var r=t(8857)},4352:function(n,e,t){t.r(e),t.d(e,{useImageGallery:function(){return u}});var r=t(9439),i=t(2791),a=t(2703),o="smooth",u=function(n){var e=n.listRef,t=n.onLoad,u=n.data,c=n.scrollBy,s=(0,i.useState)(!1),d=(0,r.Z)(s,2),l=d[0],p=d[1],h=(0,i.useRef)(t),f=(0,i.useRef)(null),v=(0,i.useRef)(null);return(0,i.useEffect)((function(){var n,t,r,i;f.current=null!==(n=f.current)&&void 0!==n?n:null===(t=e.current)||void 0===t||null===(r=t.firstElementChild)||void 0===r?void 0:r.getBoundingClientRect().height;var s=null===(i=e.current)||void 0===i?void 0:i.querySelectorAll("img");if(null!==s&&void 0!==s&&s.length){p(!0);var d=s[s.length-1],l=v.current<(null===u||void 0===u?void 0:u.length),x=v.current>=(null===u||void 0===u?void 0:u.length);(0,a.onImageLoad)(d,(function(){var n;if(p(!1),h.current&&h.current(),(null===(n=e.current)||void 0===n?void 0:n.getBoundingClientRect().top)<0){if(x)return e.current.scrollIntoView({behavior:o});if(l){var t=parseInt(c);window.scrollBy({top:f.current*(isNaN(t)?1.5:t),behavior:o})}}}))}v.current=null===u||void 0===u?void 0:u.length}),[u,c,e]),[l]}},8029:function(n,e,t){t.r(e),t.d(e,{default:function(){return d}});var r=t(1413),i=t(5671),a=t(3144),o=t(6274),u=t(9359),c=t(2703),s=(0,u.Z)("cache"),d=function(){function n(){(0,i.Z)(this,n),Object.defineProperty(this,s,{writable:!0,value:{}})}return(0,a.Z)(n,[{key:"set",value:function(n,e){(0,c.setProp)((0,o.Z)(this,s)[s],n,e)}},{key:"get",value:function(n){return(0,c.getProp)((0,o.Z)(this,s)[s],n)}},{key:"data",get:function(){return(0,r.Z)({},(0,o.Z)(this,s)[s])}},{key:"clear",value:function(){(0,o.Z)(this,s)[s]={}}}]),n}()},5022:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,i=t(9439),a=t(1413),o=t(5861),u=t(5671),c=t(3144),s=t(6274),d=t(9359),l=t(4687),p=t.n(l),h=t(1243),f=t(2703),v=new(t(8029).default),x="https://api.themoviedb.org/3",g="https://image.tmdb.org/t/p",m="https://www.themoviedb.org/movie",w="https://www.imdb.com/title",b="86d04e898c465c8de09e1ea2fc383ab8",Z=(0,d.Z)("response"),y=(0,d.Z)("instance"),k=function(){function n(){if((0,u.Z)(this,n),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),(0,s.Z)(this,y)[y])return(0,s.Z)(this,y)[y];(0,s.Z)(this,y)[y]=this}return(0,c.Z)(n,[{key:"getImageUrl",value:function(n,e){var t=isNaN(parseInt(e))?"original":"w".concat(e);return"".concat(g,"/").concat(t,"/").concat(n)}},{key:"getTmdbUrl",value:function(n){return"".concat(m,"/").concat(n)}},{key:"getImdbUrl",value:function(n){return"".concat(w,"/").concat(n)}},{key:"fetch",value:function(){var n=(0,o.Z)(p().mark((function n(e){var t,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new AbortController,t=r.signal,n.prev=2,n.next=5,h.Z.get(e,{signal:t});case 5:return i=n.sent,n.abrupt("return",(0,a.Z)({},(0,s.Z)(this,Z)[Z]=i));case 9:throw n.prev=9,n.t0=n.catch(2),(0,s.Z)(this,Z)[Z]=n.t0,n.t0;case 13:case"end":return n.stop()}}),n,this,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},{key:"get",value:function(){var n=(0,o.Z)(p().mark((function n(e,t){var r;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(x,"/").concat(e,"?api_key=").concat(b,"&").concat(new URLSearchParams((a=t,(0,f.isObj)(a)?Object.entries(a).reduce((function(n,e){var t=(0,i.Z)(e,2),r=t[0],a=t[1];return n[(0,f.camelToSnake)(r)]=a,n}),{}):{}))),n.next=3,this.fetch(r);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}var a}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getGenres",value:function(){var n=(0,o.Z)(p().mark((function n(e){var t;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((0,f.isArray)(e)){n.next=2;break}return n.abrupt("return",[]);case 2:if(v.get("genres")){n.next=7;break}return n.next=5,this.get("genre/movie/list");case 5:t=n.sent,v.set("genres",t.data.genres);case 7:return n.abrupt("return",v.get("genres").filter((function(n){var t=n.id;return e.includes(t)})).map((function(n){return n.name})));case 8:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"getTrendingMovies",value:function(){var n=(0,o.Z)(p().mark((function n(e,t){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get("trending/movie/".concat((0,f.normalizeStr)(e)),t);case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var n=(0,o.Z)(p().mark((function n(e,t){var r,i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=v.get("movie/".concat(e)))){n.next=3;break}return n.abrupt("return",r);case 3:return n.next=5,this.get("movie/".concat(e),t);case 5:return i=n.sent,a=i.data,v.set("movie/".concat(e),a),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getMovieCredits",value:function(){var n=(0,o.Z)(p().mark((function n(e,t){var r,i,a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=v.get("movie/".concat(e,"/credits")))){n.next=3;break}return n.abrupt("return",r);case 3:return n.next=5,this.get("movie/".concat(e,"/credits"),t);case 5:return i=n.sent,a=i.data,v.set("movie/".concat(e,"/credits"),a),n.abrupt("return",a);case 9:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getMovieReviews",value:function(){var n=(0,o.Z)(p().mark((function n(e,t){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get("movie/".concat(e,"/reviews"),t);case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var n=(0,o.Z)(p().mark((function n(e,t){var r,i;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get("search/movie",(0,a.Z)({query:e},t));case 2:return r=n.sent,i=r.data,n.abrupt("return",i);case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"cache",get:function(){return v.data}},{key:"abort",value:function(){r.abort()}}]),n}()}}]);
//# sourceMappingURL=6741.2ea4684a.chunk.js.map