"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[9179,5161,6878,3315,5022],{9179:function(n,e,t){t.r(e),t.d(e,{ReviewItem:function(){return f}});var r=t(1413),a=t(2007),i=t(3315),c=t(588),u=t(3437),o=t(5161),s=t(184),l={target:"_blank",rel:"noopener noreferrer"},f=function(n){var e=n.author_details.avatar_path,t=n.author,a=n.content,f=n.url,d=n.created_at,p=(n.updated_at,n.id,new Date(d).toLocaleString());return(0,s.jsxs)(o.Container,{children:[(0,s.jsxs)(o.Header,{children:[(0,s.jsxs)(o.AvatarAndName,{children:[(0,s.jsx)(o.AvatarThumb,{children:e?(0,s.jsx)(o.AvatarImage,{src:(0,i.getAvatar)(e,185),alt:t}):(0,s.jsx)(c.IconNoAvatar,{size:60,color:"lightgray"})}),(0,s.jsx)("b",{children:t})]}),(0,s.jsxs)(o.HeaderGroup,{children:[(0,s.jsx)("span",{children:p}),(0,s.jsx)(o.SourceLink,(0,r.Z)((0,r.Z)({to:f,title:f},l),{},{children:"Direct link"}))]})]}),(0,s.jsx)(u.ExpandableContent,{content:a,maxHeight:100})]})};f.propType={author_details:a.object,author:a.string,content:a.string,url:a.string,created_at:a.string,updated_at:a.string,id:a.number}},5161:function(n,e,t){t.r(e),t.d(e,{AvatarAndName:function(){return h},AvatarImage:function(){return g},AvatarThumb:function(){return v},Container:function(){return p},Header:function(){return m},HeaderGroup:function(){return x},SourceLink:function(){return w}});var r,a,i,c,u,o,s,l=t(168),f=t(3820),d=t(7573),p=f.Z.article(r||(r=(0,l.Z)(["\n  padding: 20px;\n  width: 100%;\n  background: linear-gradient(180deg, #ebebeb 0, transparent);\n"]))),h=f.Z.div(a||(a=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n  }\n"]))),v=f.Z.div(i||(i=(0,l.Z)(["\n  ",";\n  width: 60px;\n  height: 60px;\n\n  border-radius: 50%;\n  border: 1px solid rgb(0 0 0 / 0.15);\n  overflow: hidden;\n"])),(0,d.FlexCentered)()),g=f.Z.img(c||(c=(0,l.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  /* \u041f\u0440\u0438 \u0442\u0430\u043a\u043e\u043c \u043f\u043e\u0437\u0438\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0438 \u0432\u0438\u0434\u043d\u043e \u043b\u0438\u0446\u0430 */\n  object-position: top;\n"]))),m=f.Z.div(u||(u=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin-bottom: 15px;\n\n  @media screen and (min-width: 768px) {\n    flex-direction: row;\n    justify-content: space-between;\n  }\n"]))),x=f.Z.div(o||(o=(0,l.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 5px;\n\n  margin-top: 10px;\n  font-size: 12px;\n\n  @media screen and (min-width: 768px) {\n    align-items: flex-end;\n  }\n"]))),w=(0,f.Z)(d.LinkPrimary)(s||(s=(0,l.Z)([""])))},6786:function(n,e,t){t.r(e),t.d(e,{ExpandableContent:function(){return f}});var r=t(9439),a=t(2791),i=t(6878),c=t(2703),u=t(5095),o=t.n(u),s=t(2007),l=t(184),f=function(n){var e=n.content,t=n.maxHeight,u=void 0===t?1/0:t,s=(0,a.useState)(!1),f=(0,r.Z)(s,2),d=f[0],p=f[1],h=(0,a.useRef)(null),v=(0,a.useCallback)((function(){var n=h.current;n.style.maxHeight="max-content";var e=n.getBoundingClientRect().height;return n.style.maxHeight=null,e>u}),[u]);return(0,a.useEffect)((function(){p(v());var n=o()((function(){p(v())}),100);return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[v]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.Content,{ref:h,dangerouslySetInnerHTML:{__html:(0,c.markupLinks)(e)},maxHeight:d?u:"max-content"}),d&&(0,l.jsx)(i.Expander,{onClick:function(){return p(!1)},children:"Show full"})]})};f.propType={content:s.string,maxHeight:s.number}},6878:function(n,e,t){t.r(e),t.d(e,{Content:function(){return s},Expander:function(){return l}});var r,a,i=t(168),c=t(3820),u=t(7573),o=t(2703),s=c.Z.pre(r||(r=(0,i.Z)(["\n  max-height: ",";\n\n  font-family: inherit;\n  line-height: 1.5;\n\n  white-space: pre-wrap;\n  overflow: hidden;\n\n  /* \u041b\u0438\u043d\u043a\u0438 \u0432\u043d\u0443\u0442\u0440\u0438 \u043f\u043e\u0441\u0442\u0430 */\n  & a {\n    ",";\n    color: var(--color-blue);\n    &:hover,\n    &:focus-visible {\n      color: var(--color-orange);\n    }\n  }\n"])),(function(n){var e=n.maxHeight;return(0,o.calcCSSValue)(e)}),u.LinkBase),l=(0,c.Z)(u.ButtonLink)(a||(a=(0,i.Z)(["\n  display: block;\n  margin: 10px auto 0 auto;\n  padding: 10px 10px 10px 0;\n\n  font-size: 12px;\n  font-weight: bold;\n  letter-spacing: -0.2px;\n  color: #a7a7a7;\n\n  @media screen and (min-width: 768px) {\n    margin: 10px 0 0 0;\n  }\n"])))},3437:function(n,e,t){t.r(e),t.d(e,{ExpandableContent:function(){return r.ExpandableContent}});var r=t(6786)},8029:function(n,e,t){t.r(e),t.d(e,{default:function(){return l}});var r=t(1413),a=t(5671),i=t(3144),c=t(6274),u=t(9359),o=t(2703),s=(0,u.Z)("cache"),l=function(){function n(){(0,a.Z)(this,n),Object.defineProperty(this,s,{writable:!0,value:{}})}return(0,i.Z)(n,[{key:"set",value:function(n,e){(0,o.setProp)((0,c.Z)(this,s)[s],n,e)}},{key:"get",value:function(n){return(0,o.getProp)((0,c.Z)(this,s)[s],n)}},{key:"data",get:function(){return(0,r.Z)({},(0,c.Z)(this,s)[s])}},{key:"clear",value:function(){(0,c.Z)(this,s)[s]={}}}]),n}()},3315:function(n,e,t){t.r(e),t.d(e,{getAvatar:function(){return p},getCastPreview:function(){return f},getCrewPreview:function(){return d},normalizeCastData:function(){return l},normalizeCrewData:function(){return s}});var r=t(3433),a=t(4942),i=t(1413),c=t(2703),u=new(t(5022).default),o=function(n,e){if(!Array.isArray(n))return[];var t=n.reduce((function(n,t){var r=t.id,c=t[e];return n[r]?n[r][e].push(c):n[r]=(0,i.Z)((0,i.Z)({},t),{},(0,a.Z)({},e,[c])),n}),{});return Object.values(t).map((function(n){return(0,i.Z)((0,i.Z)({},n),{},(0,a.Z)({},e,n[e].join(", ")))}))},s=function(n){return o(n,"job")},l=function(n){return o(n,"character")},f=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(Array.isArray(null===n||void 0===n?void 0:n.cast)){var t=n.cast,r=t.slice(0,e).map((function(n){var e=n.original_name,t=n.name;return e||t})),a=t.length-r.length,i=a>0?"...other ".concat(a," actor(s)"):"...other actor(s)";return r.length>0?{preview:r.join(", "),remaining:i}:null}},d=function(n){if(Array.isArray(null===n||void 0===n?void 0:n.crew)){var e=n.crew,t=0,a=e.reduce((function(n,e){var a=e.department,i=e.job,u=e.name,o=(0,c.normalizeStr)(i),s=(0,c.normalizeStr)(a);return"director"===o&&"directing"!==s||n[o]&&(t+=1,n[o]=[].concat((0,r.Z)(n[o]),[u])),n}),{director:[],screenplay:[],writer:[],characters:[],story:[]});return t?a:null}},p=function(n,e){return n?/http/i.test(n)?n.replace(/\//,""):u.getImageUrl(n,e):null}},5022:function(n,e,t){t.r(e),t.d(e,{default:function(){return k}});var r,a=t(9439),i=t(1413),c=t(5861),u=t(5671),o=t(3144),s=t(6274),l=t(9359),f=t(4687),d=t.n(f),p=t(1243),h=t(2703),v=new(t(8029).default),g="https://api.themoviedb.org/3",m="https://image.tmdb.org/t/p",x="https://www.themoviedb.org/movie",w="https://www.imdb.com/title",b="86d04e898c465c8de09e1ea2fc383ab8",Z=(0,l.Z)("response"),y=(0,l.Z)("instance"),k=function(){function n(){if((0,u.Z)(this,n),Object.defineProperty(this,Z,{writable:!0,value:void 0}),Object.defineProperty(this,y,{writable:!0,value:void 0}),(0,s.Z)(this,y)[y])return(0,s.Z)(this,y)[y];(0,s.Z)(this,y)[y]=this}return(0,o.Z)(n,[{key:"getImageUrl",value:function(n,e){var t=isNaN(parseInt(e))?"original":"w".concat(e);return"".concat(m,"/").concat(t,"/").concat(n)}},{key:"getTmdbUrl",value:function(n){return"".concat(x,"/").concat(n)}},{key:"getImdbUrl",value:function(n){return"".concat(w,"/").concat(n)}},{key:"fetch",value:function(){var n=(0,c.Z)(d().mark((function n(e){var t,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=new AbortController,t=r.signal,n.prev=2,n.next=5,p.Z.get(e,{signal:t});case 5:return a=n.sent,n.abrupt("return",(0,i.Z)({},(0,s.Z)(this,Z)[Z]=a));case 9:throw n.prev=9,n.t0=n.catch(2),(0,s.Z)(this,Z)[Z]=n.t0,n.t0;case 13:case"end":return n.stop()}}),n,this,[[2,9]])})));return function(e){return n.apply(this,arguments)}}()},{key:"get",value:function(){var n=(0,c.Z)(d().mark((function n(e,t){var r;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="".concat(g,"/").concat(e,"?api_key=").concat(b,"&").concat(new URLSearchParams((i=t,(0,h.isObj)(i)?Object.entries(i).reduce((function(n,e){var t=(0,a.Z)(e,2),r=t[0],i=t[1];return n[(0,h.camelToSnake)(r)]=i,n}),{}):{}))),n.next=3,this.fetch(r);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}var i}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getGenres",value:function(){var n=(0,c.Z)(d().mark((function n(e){var t;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((0,h.isArray)(e)){n.next=2;break}return n.abrupt("return",[]);case 2:if(v.get("genres")){n.next=7;break}return n.next=5,this.get("genre/movie/list");case 5:t=n.sent,v.set("genres",t.data.genres);case 7:return n.abrupt("return",v.get("genres").filter((function(n){var t=n.id;return e.includes(t)})).map((function(n){return n.name})));case 8:case"end":return n.stop()}}),n,this)})));return function(e){return n.apply(this,arguments)}}()},{key:"getTrendingMovies",value:function(){var n=(0,c.Z)(d().mark((function n(e,t){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get("trending/movie/".concat((0,h.normalizeStr)(e)),t);case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getMovieDetails",value:function(){var n=(0,c.Z)(d().mark((function n(e,t){var r,a,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=v.get("movie/".concat(e)))){n.next=3;break}return n.abrupt("return",r);case 3:return n.next=5,this.get("movie/".concat(e),t);case 5:return a=n.sent,i=a.data,v.set("movie/".concat(e),i),n.abrupt("return",i);case 9:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getMovieCredits",value:function(){var n=(0,c.Z)(d().mark((function n(e,t){var r,a,i;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=v.get("movie/".concat(e,"/credits")))){n.next=3;break}return n.abrupt("return",r);case 3:return n.next=5,this.get("movie/".concat(e,"/credits"),t);case 5:return a=n.sent,i=a.data,v.set("movie/".concat(e,"/credits"),i),n.abrupt("return",i);case 9:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"getMovieReviews",value:function(){var n=(0,c.Z)(d().mark((function n(e,t){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get("movie/".concat(e,"/reviews"),t);case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"searchMovies",value:function(){var n=(0,c.Z)(d().mark((function n(e,t){var r,a;return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.get("search/movie",(0,i.Z)({query:e},t));case 2:return r=n.sent,a=r.data,n.abrupt("return",a);case 5:case"end":return n.stop()}}),n,this)})));return function(e,t){return n.apply(this,arguments)}}()},{key:"cache",get:function(){return v.data}},{key:"abort",value:function(){r.abort()}}]),n}()}}]);
//# sourceMappingURL=9179.bde559ed.chunk.js.map