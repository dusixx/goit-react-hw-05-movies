"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[1005,7113,3535,9862,1284,7987,4352],{1005:function(n,r,e){e.r(r),e.d(r,{CreditsInfo:function(){return C}});var t=e(1413),i=e(5987),o=e(3433),u=e(9439),a=e(2791),c=e(1284),l=e(2834),s=e(3535),d=e(2853),f=e(3315),v=e(4352),h=e(2703),p=e(7113),g=e(184),m=["id"],Z={key:"popularity",ascending:!1},x=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"credits";return"The ".concat(n," for this film has not been added")},C=function(n){var r,e=n.data,C=n.scrollBy,w=n.onLoad,b=n.loader,y=n.sortOptions,k=void 0===y?Z:y,S=(0,a.useState)("cast"),j=(0,u.Z)(S,2),B=j[0],L=j[1],R=(0,a.useState)([]),z=(0,u.Z)(R,2),O=z[0],I=z[1],A=(0,a.useState)(1),E=(0,u.Z)(A,2),T=E[0],N=E[1],V=(0,a.useRef)(null),_=(0,v.useImageGallery)({listRef:V,onLoad:w,scrollBy:C,data:O}),D=(0,u.Z)(_,1)[0],M=(0,a.useRef)({cast:(0,f.normalizeCastData)(e.credits.cast),crew:(0,f.normalizeCrewData)(e.credits.crew)}),F=(0,a.useRef)([]);(0,a.useEffect)((function(){var n=M.current[B];F.current=(0,h.sortObj)(n,k)}),[B,k]),(0,a.useEffect)((function(){I((function(n){return(0,o.Z)(F.current.slice(0,30*T))}))}),[T,B]);var P=!D&&O.length>0&&O.length<(null===(r=F.current)||void 0===r?void 0:r.length),G=M.current,q=G.cast,H=G.crew;return q.length||H.length?(0,g.jsxs)(p.Container,{children:[(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(d.SubHeader,{children:(0,g.jsx)(c.OptionButtons,{items:"cast crew",onClick:function(n){I([]),L(n),N(1)},value:B})}),!M.current[B].length&&(0,g.jsxs)(p.NoCredits,{children:[" ",x(B)]}),O.length>0&&(0,g.jsx)(p.CreditsList,{ref:V,children:O.map((function(n){var r=n.id,e=(0,i.Z)(n,m);return(0,g.jsx)(p.CreditsListItem,{children:(0,g.jsx)(l.PersonCard,(0,t.Z)({},e))},r)}))}),D&&b]}),P&&(0,g.jsx)(s.LoadMoreBtn,{onClick:function(){return N((function(n){return n+1}))},style:{marginTop:15},children:"Load more"})]}):(0,g.jsxs)(p.NoCredits,{children:[" ",x()]})}},7113:function(n,r,e){e.r(r),e.d(r,{Container:function(){return l},CreditsList:function(){return s},CreditsListItem:function(){return d},NoCredits:function(){return f}});var t,i,o,u,a=e(168),c=e(3820),l=c.Z.div(t||(t=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n"]))),s=c.Z.ul(i||(i=(0,a.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 20px;\n  width: 100%;\n"]))),d=c.Z.li(o||(o=(0,a.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 150px;\n\n  background: linear-gradient(180deg, #ebebeb 0, transparent);\n  border-radius: var(--border-radius);\n  overflow: hidden;\n"]))),f=c.Z.p(u||(u=(0,a.Z)(["\n  text-align: center;\n"])))},3535:function(n,r,e){e.r(r),e.d(r,{LoadMoreBtn:function(){return d}});var t=e(1413),i=e(9439),o=e(5987),u=e(2791),a=e(9862),c=e(2007),l=e(184),s=["onClick","centered"],d=function(n){var r=n.onClick,e=n.centered,c=void 0===e||e,d=(0,o.Z)(n,s),f=(0,u.useState)(!1),v=(0,i.Z)(f,2),h=v[0],p=v[1],g=(0,u.useRef)(null),m=(0,u.useRef)(null),Z=(0,u.useRef)(null),x=(0,u.useRef)(1);(0,u.useEffect)((function(){var n=g.current;return Z.current=new IntersectionObserver((function(){return p(!1)})),Z.current.observe(n),m.current=g.current.getBoundingClientRect(),function(){return Z.current.unobserve(n)}}),[]);var C=m.current||"",w=C.width,b=C.height,y=(0,t.Z)({width:w,height:b},d);return(0,l.jsx)(a.Button,(0,t.Z)((0,t.Z)({ref:g,onClick:function(n){p(!0),x.current+=1,r&&r(x.current,n)},centered:c,isLoading:h},y),{},{children:h?(0,l.jsx)(a.Spinner,{size:.5*b}):"Load more"}))};d.propType={onClick:c.func,centered:c.bool}},9862:function(n,r,e){e.r(r),e.d(r,{Button:function(){return l},Spinner:function(){return s}});var t,i,o=e(168),u=e(3820),a=e(7573),c=e(2703),l=(0,u.Z)(a.ButtonSecondary)(t||(t=(0,o.Z)(["\n  ",";\n\n  /* padding-top: 17px;\n  padding-bottom: 17px; */\n  /* width: 100%; */\n\n  margin-left: ",";\n  margin-right: ",";\n\n  /* \u0431\u0435\u0437 ceil \u043f\u0440\u0438 \u0430\u0434\u0430\u043f\u0442\u0438\u0432\u043a\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 */\n  width: ",";\n  height: ",";\n\n  //white-space: nowrap;\n\n  /*\n    \u041f\u043e\u043a\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u0441\u043e \u0441\u043f\u0438\u043d\u0435\u0440\u043e\u043c - \u043d\u0435 \u0443\u0431\u0438\u0440\u0430\u0435\u043c \u0446\u0432\u0435\u0442\u043e \u0444\u043e\u043d\u0430\n    \u0418\u043d\u0430\u0447\u0435, \u0441\u043f\u0438\u043d\u043d\u0435\u0440 \u0441\u043e\u043b\u044c\u0435\u0442\u0441\u044f \u0441 \u0444\u043e\u043d\u043e\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n    \u041c\u043e\u0436\u043d\u043e \u0441\u0434\u043b\u0435\u0430\u0442\u044c \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u0446\u0432\u0435\u0442 \u0441\u043f\u0438\u043d\u043d\u0435\u0440\u0430 \u043c\u0435\u043d\u044f\u043b\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u043c \u0444\u043e\u043d\u0435\n  */\n  background-color: ",";\n"])),(0,a.FlexCentered)(),(function(n){return n.centered?"auto":0}),(function(n){return n.centered?"auto":0}),(function(n){var r=n.width;return(0,c.calcCSSValue)(Math.ceil(r))}),(function(n){var r=n.height;return(0,c.calcCSSValue)(Math.ceil(r))}),(function(n){return n.isLoading?"var(--color-blue)":"transparent"})),s=u.Z.span(i||(i=(0,o.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n\n  border: 2px solid #fff;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n\n  animation: rotation 0.7s linear infinite;\n  opacity: 0.6;\n\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){var r=n.size;return(0,c.calcCSSValue)(r)}),(function(n){var r=n.size;return(0,c.calcCSSValue)(r)}))},1284:function(n,r,e){e.r(r),e.d(r,{OptionButtons:function(){return f}});var t=e(1413),i=e(9439),o=e(5987),u=e(2791),a=e(2007),c=e(7987),l=e(2703),s=e(184),d=["items","value","onClick"],f=function(n){var r=n.items,e=n.value,a=n.onClick,f=(0,o.Z)(n,d),v=(0,u.useState)(e),h=(0,i.Z)(v,2),p=h[0],g=h[1];(0,u.useEffect)((function(){g(e)}),[e]);var m=function(n){g(n),a&&a((0,l.normalizeStr)(n))},Z=(0,l.getList)(r);return p||g(Z[0]),Z.length>0&&(0,s.jsx)(c.OptionsList,(0,t.Z)((0,t.Z)({},f),{},{children:Z.map((function(n){return(0,s.jsx)(c.OptionButton,{active:p===n,onClick:function(){return m(n)},children:n},n)}))}))};f.propType={items:(0,a.oneOfType)([a.string,(0,a.arrayOf)(a.string)]),value:a.string,onClick:a.func}},7987:function(n,r,e){e.r(r),e.d(r,{OptionButton:function(){return l},OptionsList:function(){return c}});var t,i,o=e(168),u=e(3820),a=e(7573),c=u.Z.div(t||(t=(0,o.Z)(["\n  ",";\n"])),(0,a.FlexCentered)("gap: 8px")),l=(0,u.Z)(a.ButtonBase)(i||(i=(0,o.Z)(["\n  position: relative;\n  padding: 5px 12px 5px 12px;\n\n  font-family: inherit;\n  font-size: 12px;\n  letter-spacing: -0.3px;\n  text-transform: capitalize;\n\n  @media screen and (min-width: 320px) {\n    font-size: inherit;\n  }\n\n  border-radius: calc(var(--border-radius) * 0.8);\n  ",";\n\n  color: ",";\n\n  background-color: ",";\n\n  &:focus-visible,\n  &:hover {\n    background-color: ",";\n  }\n"])),(0,a.TransitionBase)("color background-color"),(function(n){return n.active?"white":"var(--color-text)"}),(function(n){return n.active?"var(--color-orange)":"transparent"}),(function(n){return!n.active&&"lightgray"}))},4352:function(n,r,e){e.r(r),e.d(r,{useImageGallery:function(){return a}});var t=e(9439),i=e(2791),o=e(2703),u="smooth",a=function(n){var r=n.listRef,e=n.onLoad,a=n.data,c=n.scrollBy,l=(0,i.useState)(!1),s=(0,t.Z)(l,2),d=s[0],f=s[1],v=(0,i.useRef)(e),h=(0,i.useRef)(null),p=(0,i.useRef)(null);return(0,i.useEffect)((function(){var n,e,t,i;h.current=null!==(n=h.current)&&void 0!==n?n:null===(e=r.current)||void 0===e||null===(t=e.firstElementChild)||void 0===t?void 0:t.getBoundingClientRect().height;var l=null===(i=r.current)||void 0===i?void 0:i.querySelectorAll("img");if(null!==l&&void 0!==l&&l.length){f(!0);var s=l[l.length-1],d=p.current<(null===a||void 0===a?void 0:a.length),g=p.current>=(null===a||void 0===a?void 0:a.length);(0,o.onImageLoad)(s,(function(){var n;if(f(!1),v.current&&v.current(),(null===(n=r.current)||void 0===n?void 0:n.getBoundingClientRect().top)<0){if(g)return r.current.scrollIntoView({behavior:u});if(d){var e=parseInt(c);window.scrollBy({top:h.current*(isNaN(e)?1.5:e),behavior:u})}}}))}p.current=null===a||void 0===a?void 0:a.length}),[a,c,r]),[d]}},3315:function(n,r,e){e.r(r),e.d(r,{getAvatar:function(){return v},getCastPreview:function(){return d},getCrewPreview:function(){return f},normalizeCastData:function(){return s},normalizeCrewData:function(){return l}});var t=e(3433),i=e(4942),o=e(1413),u=e(2703),a=new(e(5022).default),c=function(n,r){if(!Array.isArray(n))return[];var e=n.reduce((function(n,e){var t=e.id,u=e[r];return n[t]?n[t][r].push(u):n[t]=(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},r,[u])),n}),{});return Object.values(e).map((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,i.Z)({},r,n[r].join(", ")))}))},l=function(n){return c(n,"job")},s=function(n){return c(n,"character")},d=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(Array.isArray(null===n||void 0===n?void 0:n.cast)){var e=n.cast,t=e.slice(0,r).map((function(n){var r=n.original_name,e=n.name;return r||e})),i=e.length-t.length,o=i>0?"...other ".concat(i," actor(s)"):"...other actor(s)";return t.length>0?{preview:t.join(", "),remaining:o}:null}},f=function(n){if(Array.isArray(null===n||void 0===n?void 0:n.crew)){var r=n.crew,e=0,i=r.reduce((function(n,r){var i=r.department,o=r.job,a=r.name,c=(0,u.normalizeStr)(o),l=(0,u.normalizeStr)(i);return"director"===c&&"directing"!==l||n[c]&&(e+=1,n[c]=[].concat((0,t.Z)(n[c]),[a])),n}),{director:[],screenplay:[],writer:[],characters:[],story:[]});return e?i:null}},v=function(n,r){return n?/http/i.test(n)?n.replace(/\//,""):a.getImageUrl(n,r):null}}}]);
//# sourceMappingURL=1005.edd267bc.chunk.js.map