"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[6185,1005,7113,7505,3535,9862,1284,7987,4352],{1005:function(n,r,e){e.r(r),e.d(r,{CreditsInfo:function(){return C}});var t=e(1413),i=e(5987),o=e(3433),a=e(9439),u=e(2791),c=e(1284),l=e(2834),s=e(3535),d=e(2853),f=e(3315),v=e(4352),h=e(2703),g=e(7113),p=e(184),m=["id"],x={key:"popularity",ascending:!1},Z=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"credits";return"The ".concat(n," for this film has not been added")},C=function(n){var r,e=n.data,C=n.scrollBy,w=n.onLoad,y=n.loader,b=n.sortOptions,j=void 0===b?x:b,k=(0,u.useState)("cast"),S=(0,a.Z)(k,2),B=S[0],L=S[1],z=(0,u.useState)([]),R=(0,a.Z)(z,2),I=R[0],O=R[1],E=(0,u.useState)(1),T=(0,a.Z)(E,2),A=T[0],M=T[1],D=(0,u.useRef)(null),F=(0,v.useImageGallery)({listRef:D,onLoad:w,scrollBy:C,data:I}),N=(0,a.Z)(F,1)[0],P=(0,u.useRef)({cast:(0,f.normalizeCastData)(e.credits.cast),crew:(0,f.normalizeCrewData)(e.credits.crew)}),V=(0,u.useRef)([]);(0,u.useEffect)((function(){var n=P.current[B];V.current=(0,h.sortObj)(n,j)}),[B,j]),(0,u.useEffect)((function(){O((function(n){return(0,o.Z)(V.current.slice(0,30*A))}))}),[A,B]);var _=!N&&I.length>0&&I.length<(null===(r=V.current)||void 0===r?void 0:r.length),G=P.current,U=G.cast,q=G.crew;return U.length||q.length?(0,p.jsxs)(g.Container,{children:[(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.SubHeader,{children:(0,p.jsx)(c.OptionButtons,{items:"cast crew",onClick:function(n){O([]),L(n),M(1)},value:B})}),!P.current[B].length&&(0,p.jsxs)(g.NoCredits,{children:[" ",Z(B)]}),I.length>0&&(0,p.jsx)(g.CreditsList,{ref:D,children:I.map((function(n){var r=n.id,e=(0,i.Z)(n,m);return(0,p.jsx)(g.CreditsListItem,{children:(0,p.jsx)(l.PersonCard,(0,t.Z)({},e))},r)}))}),N&&y]}),_&&(0,p.jsx)(s.LoadMoreBtn,{onClick:function(){return M((function(n){return n+1}))},style:{marginTop:15},children:"Load more"})]}):(0,p.jsxs)(g.NoCredits,{children:[" ",Z()]})}},7113:function(n,r,e){e.r(r),e.d(r,{Container:function(){return l},CreditsList:function(){return s},CreditsListItem:function(){return d},NoCredits:function(){return f}});var t,i,o,a,u=e(168),c=e(3820),l=c.Z.div(t||(t=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 30px;\n"]))),s=c.Z.ul(i||(i=(0,u.Z)(["\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n  gap: 20px;\n  width: 100%;\n"]))),d=c.Z.li(o||(o=(0,u.Z)(["\n  display: flex;\n  flex-direction: column;\n  width: 150px;\n\n  background: linear-gradient(180deg, #ebebeb 0, transparent);\n  border-radius: var(--border-radius);\n  overflow: hidden;\n"]))),f=c.Z.p(a||(a=(0,u.Z)(["\n  text-align: center;\n"])))},7505:function(n,r,e){e.r(r),e.d(r,{ErrorMessage:function(){return c}});var t=e(7573),i=e(5247),o=e(588),a=e(2007),u=e(184),c=function(n){var r=n.error;return console.error(r),(0,u.jsxs)(i.Container,{children:[(0,u.jsx)(o.IconError,{size:40,color:"var(--color-blue)"}),(0,u.jsx)(i.Caption,{children:"Something went wrong"}),(0,u.jsx)(i.Text,{children:r.code}),(0,u.jsx)(t.LinkButton,{to:"/",style:{textTransform:"capitalize"},children:"Go to the homepage"})]})};c.propType={error:(0,a.shape)({message:a.string,code:a.string})}},3535:function(n,r,e){e.r(r),e.d(r,{LoadMoreBtn:function(){return d}});var t=e(1413),i=e(9439),o=e(5987),a=e(2791),u=e(9862),c=e(2007),l=e(184),s=["onClick","centered"],d=function(n){var r=n.onClick,e=n.centered,c=void 0===e||e,d=(0,o.Z)(n,s),f=(0,a.useState)(!1),v=(0,i.Z)(f,2),h=v[0],g=v[1],p=(0,a.useRef)(null),m=(0,a.useRef)(null),x=(0,a.useRef)(null),Z=(0,a.useRef)(1);(0,a.useEffect)((function(){var n=p.current;return x.current=new IntersectionObserver((function(){return g(!1)})),x.current.observe(n),m.current=p.current.getBoundingClientRect(),function(){return x.current.unobserve(n)}}),[]);var C=m.current||"",w=C.width,y=C.height,b=(0,t.Z)({width:w,height:y},d);return(0,l.jsx)(u.Button,(0,t.Z)((0,t.Z)({ref:p,onClick:function(n){g(!0),Z.current+=1,r&&r(Z.current,n)},centered:c,isLoading:h},b),{},{children:h?(0,l.jsx)(u.Spinner,{size:.5*y}):"Load more"}))};d.propType={onClick:c.func,centered:c.bool}},9862:function(n,r,e){e.r(r),e.d(r,{Button:function(){return l},Spinner:function(){return s}});var t,i,o=e(168),a=e(3820),u=e(7573),c=e(2703),l=(0,a.Z)(u.ButtonSecondary)(t||(t=(0,o.Z)(["\n  ",";\n\n  /* padding-top: 17px;\n  padding-bottom: 17px; */\n  /* width: 100%; */\n\n  margin-left: ",";\n  margin-right: ",";\n\n  /* \u0431\u0435\u0437 ceil \u043f\u0440\u0438 \u0430\u0434\u0430\u043f\u0442\u0438\u0432\u043a\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 */\n  width: ",";\n  height: ",";\n\n  //white-space: nowrap;\n\n  /*\n    \u041f\u043e\u043a\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u0441\u043e \u0441\u043f\u0438\u043d\u0435\u0440\u043e\u043c - \u043d\u0435 \u0443\u0431\u0438\u0440\u0430\u0435\u043c \u0446\u0432\u0435\u0442\u043e \u0444\u043e\u043d\u0430\n    \u0418\u043d\u0430\u0447\u0435, \u0441\u043f\u0438\u043d\u043d\u0435\u0440 \u0441\u043e\u043b\u044c\u0435\u0442\u0441\u044f \u0441 \u0444\u043e\u043d\u043e\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n    \u041c\u043e\u0436\u043d\u043e \u0441\u0434\u043b\u0435\u0430\u0442\u044c \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u0446\u0432\u0435\u0442 \u0441\u043f\u0438\u043d\u043d\u0435\u0440\u0430 \u043c\u0435\u043d\u044f\u043b\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u043c \u0444\u043e\u043d\u0435\n  */\n  background-color: ",";\n"])),(0,u.FlexCentered)(),(function(n){return n.centered?"auto":0}),(function(n){return n.centered?"auto":0}),(function(n){var r=n.width;return(0,c.calcCSSValue)(Math.ceil(r))}),(function(n){var r=n.height;return(0,c.calcCSSValue)(Math.ceil(r))}),(function(n){return n.isLoading?"var(--color-blue)":"transparent"})),s=a.Z.span(i||(i=(0,o.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n\n  border: 2px solid #fff;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n\n  animation: rotation 0.7s linear infinite;\n  opacity: 0.6;\n\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){var r=n.size;return(0,c.calcCSSValue)(r)}),(function(n){var r=n.size;return(0,c.calcCSSValue)(r)}))},1284:function(n,r,e){e.r(r),e.d(r,{OptionButtons:function(){return f}});var t=e(1413),i=e(9439),o=e(5987),a=e(2791),u=e(2007),c=e(7987),l=e(2703),s=e(184),d=["items","value","onClick"],f=function(n){var r=n.items,e=n.value,u=n.onClick,f=(0,o.Z)(n,d),v=(0,a.useState)(e),h=(0,i.Z)(v,2),g=h[0],p=h[1];(0,a.useEffect)((function(){p(e)}),[e]);var m=function(n){p(n),u&&u((0,l.normalizeStr)(n))},x=(0,l.getList)(r);return g||p(x[0]),x.length>0&&(0,s.jsx)(c.OptionsList,(0,t.Z)((0,t.Z)({},f),{},{children:x.map((function(n){return(0,s.jsx)(c.OptionButton,{active:g===n,onClick:function(){return m(n)},children:n},n)}))}))};f.propType={items:(0,u.oneOfType)([u.string,(0,u.arrayOf)(u.string)]),value:u.string,onClick:u.func}},7987:function(n,r,e){e.r(r),e.d(r,{OptionButton:function(){return l},OptionsList:function(){return c}});var t,i,o=e(168),a=e(3820),u=e(7573),c=a.Z.div(t||(t=(0,o.Z)(["\n  ",";\n"])),(0,u.FlexCentered)("gap: 8px")),l=(0,a.Z)(u.ButtonBase)(i||(i=(0,o.Z)(["\n  position: relative;\n  padding: 5px 12px 5px 12px;\n\n  font-family: inherit;\n  font-size: 12px;\n  letter-spacing: -0.3px;\n  text-transform: capitalize;\n\n  @media screen and (min-width: 320px) {\n    font-size: inherit;\n  }\n\n  border-radius: calc(var(--border-radius) * 0.8);\n  ",";\n\n  color: ",";\n\n  background-color: ",";\n\n  &:focus-visible,\n  &:hover {\n    background-color: ",";\n  }\n"])),(0,u.TransitionBase)("color background-color"),(function(n){return n.active?"white":"var(--color-text)"}),(function(n){return n.active?"var(--color-orange)":"transparent"}),(function(n){return!n.active&&"lightgray"}))},4352:function(n,r,e){e.r(r),e.d(r,{useImageGallery:function(){return u}});var t=e(9439),i=e(2791),o=e(2703),a="smooth",u=function(n){var r=n.listRef,e=n.onLoad,u=n.data,c=n.scrollBy,l=(0,i.useState)(!1),s=(0,t.Z)(l,2),d=s[0],f=s[1],v=(0,i.useRef)(e),h=(0,i.useRef)(null),g=(0,i.useRef)(null);return(0,i.useEffect)((function(){var n,e,t,i;h.current=null!==(n=h.current)&&void 0!==n?n:null===(e=r.current)||void 0===e||null===(t=e.firstElementChild)||void 0===t?void 0:t.getBoundingClientRect().height;var l=null===(i=r.current)||void 0===i?void 0:i.querySelectorAll("img");if(null!==l&&void 0!==l&&l.length){f(!0);var s=l[l.length-1],d=g.current<(null===u||void 0===u?void 0:u.length),p=g.current>=(null===u||void 0===u?void 0:u.length);(0,o.onImageLoad)(s,(function(){var n;if(f(!1),v.current&&v.current(),(null===(n=r.current)||void 0===n?void 0:n.getBoundingClientRect().top)<0){if(p)return r.current.scrollIntoView({behavior:a});if(d){var e=parseInt(c);window.scrollBy({top:h.current*(isNaN(e)?1.5:e),behavior:a})}}}))}g.current=null===u||void 0===u?void 0:u.length}),[u,c,r]),[d]}},6185:function(n,r,e){e.r(r);var t=e(1413),i=e(9439),o=e(2791),a=e(7689),u=e(7573),c=e(1005),l=e(7505),s=e(5022),d=e(184),f=new s.default;r.default=function(n){var r=n.loader,e=(0,a.UO)().movieId,s=(0,o.useState)(null),v=(0,i.Z)(s,2),h=v[0],g=v[1],p=(0,o.useState)(null),m=(0,i.Z)(p,2),x=m[0],Z=m[1];return(0,o.useEffect)((function(){Promise.all([f.getMovieDetails(e),f.getMovieCredits(e)]).then((function(n){var r=(0,i.Z)(n,2),e=r[0],o=r[1];Z((0,t.Z)((0,t.Z)({},e),{},{credits:o}))})).catch(g)}),[e]),(0,d.jsxs)(d.Fragment,{children:[!h&&x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(u.PageTitle,{style:{marginBottom:35},children:[x.title," "]}),(0,d.jsx)(c.CreditsInfo,{data:x,loader:r,scrollBy:2})]}),h&&(0,d.jsx)(l.ErrorMessage,{error:h})]})}},3315:function(n,r,e){e.r(r),e.d(r,{getAvatar:function(){return v},getCastPreview:function(){return d},getCrewPreview:function(){return f},normalizeCastData:function(){return s},normalizeCrewData:function(){return l}});var t=e(3433),i=e(4942),o=e(1413),a=e(2703),u=new(e(5022).default),c=function(n,r){if(!Array.isArray(n))return[];var e=n.reduce((function(n,e){var t=e.id,a=e[r];return n[t]?n[t][r].push(a):n[t]=(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},r,[a])),n}),{});return Object.values(e).map((function(n){return(0,o.Z)((0,o.Z)({},n),{},(0,i.Z)({},r,n[r].join(", ")))}))},l=function(n){return c(n,"job")},s=function(n){return c(n,"character")},d=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(Array.isArray(null===n||void 0===n?void 0:n.cast)){var e=n.cast,t=e.slice(0,r).map((function(n){var r=n.original_name,e=n.name;return r||e})),i=e.length-t.length,o=i>0?"...other ".concat(i," actor(s)"):"...other actor(s)";return t.length>0?{preview:t.join(", "),remaining:o}:null}},f=function(n){if(Array.isArray(null===n||void 0===n?void 0:n.crew)){var r=n.crew,e=0,i=r.reduce((function(n,r){var i=r.department,o=r.job,u=r.name,c=(0,a.normalizeStr)(o),l=(0,a.normalizeStr)(i);return"director"===c&&"directing"!==l||n[c]&&(e+=1,n[c]=[].concat((0,t.Z)(n[c]),[u])),n}),{director:[],screenplay:[],writer:[],characters:[],story:[]});return e?i:null}},v=function(n,r){return n?/http/i.test(n)?n.replace(/\//,""):u.getImageUrl(n,r):null}}}]);
//# sourceMappingURL=6185.62934bd2.chunk.js.map