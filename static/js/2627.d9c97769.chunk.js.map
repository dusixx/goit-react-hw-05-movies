{"version":3,"file":"static/js/2627.d9c97769.chunk.js","mappings":"yMAMaA,EAAgB,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,QAASC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SAEvCC,EAAsB,SAEtBC,GAAiBC,EAAAA,EAAAA,QAAO,MACxBC,GAAaD,EAAAA,EAAAA,QAAO,OAE1BE,EAAAA,EAAAA,YAAU,WAAO,IAAD,QACRC,EAAO,UAAGR,EAAQS,eAAX,aAAG,EAAiBC,wBAAwBC,IAMzD,GAJAP,EAAeK,QAAf,UACEL,EAAeK,eADjB,kBAEET,EAAQS,eAFV,iBAEE,EAAiBG,yBAFnB,aAEE,EAAoCF,wBAAwBG,OAE1DL,EAAU,EAAG,CACf,GAAIF,EAAWG,QAAUR,EAAKa,OAC5B,OAAOC,OAAOb,SAAS,CACrBS,IAAKP,EAAeK,SAAWO,SAASd,IAhB1B,GAiBde,SAAUd,IAIVG,EAAWG,UAAYR,EAAKa,QAC9Bd,EAAQS,QAAQS,eAAe,CAAED,SAAUd,GAE9C,CAEDG,EAAWG,QAAX,OAAqBR,QAArB,IAAqBA,OAArB,EAAqBA,EAAMa,MAC5B,GAAE,CAACd,EAASC,EAAMC,GACpB,C","sources":["hooks/useAutoScroll.js"],"sourcesContent":["import { useRef, useEffect } from 'react';\n\n// TODO: для мобильных можно уменьшать scrollBy\n// window.matchMedia(...).addEventListener('change', cb)\n// Или высчитывать от текущей высоты вьюпорта\n\nexport const useAutoScroll = ({ listRef, data, scrollBy }) => {\n  const DEF_SCROLL_BY = 2;\n  const DEF_SCROLL_BEHAVIOR = 'smooth';\n\n  const listItemHeight = useRef(null);\n  const curDataLen = useRef(null);\n\n  useEffect(() => {\n    const listTop = listRef.current?.getBoundingClientRect().top;\n\n    listItemHeight.current =\n      listItemHeight.current ??\n      listRef.current?.firstElementChild?.getBoundingClientRect().height;\n\n    if (listTop < 0) {\n      if (curDataLen.current < data.length) {\n        return window.scrollBy({\n          top: listItemHeight.current * (parseInt(scrollBy) || DEF_SCROLL_BY),\n          behavior: DEF_SCROLL_BEHAVIOR,\n        });\n      }\n\n      if (curDataLen.current === data.length) {\n        listRef.current.scrollIntoView({ behavior: DEF_SCROLL_BEHAVIOR });\n      }\n    }\n\n    curDataLen.current = data?.length;\n  }, [listRef, data, scrollBy]);\n};\n"],"names":["useAutoScroll","listRef","data","scrollBy","DEF_SCROLL_BEHAVIOR","listItemHeight","useRef","curDataLen","useEffect","listTop","current","getBoundingClientRect","top","firstElementChild","height","length","window","parseInt","behavior","scrollIntoView"],"sourceRoot":""}