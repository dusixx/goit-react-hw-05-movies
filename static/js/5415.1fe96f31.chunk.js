"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[5415,7505,3179,3535,9862,1284,7987],{7505:function(n,e,t){t.r(e),t.d(e,{ErrorMessage:function(){return a}});var r=t(7573),o=t(5247),i=t(588),u=t(2007),c=t(184),a=function(n){var e=n.error;return console.error(e),(0,c.jsxs)(o.Container,{children:[(0,c.jsx)(i.IconError,{size:40,color:"var(--color-blue)"}),(0,c.jsx)(o.Caption,{children:"Something went wrong"}),(0,c.jsx)(o.Text,{children:e.code}),(0,c.jsx)(r.LinkButton,{to:"/",style:{textTransform:"capitalize"},children:"Go to the homepage"})]})};a.propType={error:(0,u.shape)({message:u.string,code:u.string})}},3179:function(n,e,t){t.r(e),t.d(e,{default:function(){return r.default}});var r=t(6741)},3535:function(n,e,t){t.r(e),t.d(e,{LoadMoreBtn:function(){return d}});var r=t(1413),o=t(9439),i=t(5987),u=t(2791),c=t(9862),a=t(2007),s=t(184),l=["onClick","centered"],d=function(n){var e=n.onClick,t=n.centered,a=void 0===t||t,d=(0,i.Z)(n,l),f=(0,u.useState)(!1),p=(0,o.Z)(f,2),g=p[0],h=p[1],v=(0,u.useRef)(null),x=(0,u.useRef)(null),m=(0,u.useRef)(null),k=(0,u.useRef)(1);(0,u.useEffect)((function(){var n=v.current;return m.current=new IntersectionObserver((function(){return h(!1)})),m.current.observe(n),x.current=v.current.getBoundingClientRect(),function(){return m.current.unobserve(n)}}),[]);var Z=x.current||"",b=Z.width,C=Z.height,S=(0,r.Z)({width:b,height:C},d);return(0,s.jsx)(c.Button,(0,r.Z)((0,r.Z)({ref:v,onClick:function(n){h(!0),k.current+=1,e&&e(k.current,n)},centered:a,isLoading:g},S),{},{children:g?(0,s.jsx)(c.Spinner,{size:.5*C}):"Load more"}))};d.propType={onClick:a.func,centered:a.bool}},9862:function(n,e,t){t.r(e),t.d(e,{Button:function(){return s},Spinner:function(){return l}});var r,o,i=t(168),u=t(3820),c=t(7573),a=t(2703),s=(0,u.Z)(c.ButtonSecondary)(r||(r=(0,i.Z)(["\n  ",";\n\n  /* padding-top: 17px;\n  padding-bottom: 17px; */\n  /* width: 100%; */\n\n  margin-left: ",";\n  margin-right: ",";\n\n  /* \u0431\u0435\u0437 ceil \u043f\u0440\u0438 \u0430\u0434\u0430\u043f\u0442\u0438\u0432\u043a\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u0438\u0442\u0441\u044f \u0442\u0435\u043a\u0441\u0442 \u043a\u043d\u043e\u043f\u043a\u0438 */\n  width: ",";\n  height: ",";\n\n  //white-space: nowrap;\n\n  /*\n    \u041f\u043e\u043a\u0430 \u043a\u043d\u043e\u043f\u043a\u0430 \u0441\u043e \u0441\u043f\u0438\u043d\u0435\u0440\u043e\u043c - \u043d\u0435 \u0443\u0431\u0438\u0440\u0430\u0435\u043c \u0446\u0432\u0435\u0442\u043e \u0444\u043e\u043d\u0430\n    \u0418\u043d\u0430\u0447\u0435, \u0441\u043f\u0438\u043d\u043d\u0435\u0440 \u0441\u043e\u043b\u044c\u0435\u0442\u0441\u044f \u0441 \u0444\u043e\u043d\u043e\u043c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b\n    \u041c\u043e\u0436\u043d\u043e \u0441\u0434\u043b\u0435\u0430\u0442\u044c \u0442\u0430\u043a, \u0447\u0442\u043e\u0431\u044b \u0446\u0432\u0435\u0442 \u0441\u043f\u0438\u043d\u043d\u0435\u0440\u0430 \u043c\u0435\u043d\u044f\u043b\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u043c \u0444\u043e\u043d\u0435\n  */\n  background-color: ",";\n"])),(0,c.FlexCentered)(),(function(n){return n.centered?"auto":0}),(function(n){return n.centered?"auto":0}),(function(n){var e=n.width;return(0,a.calcCSSValue)(Math.ceil(e))}),(function(n){var e=n.height;return(0,a.calcCSSValue)(Math.ceil(e))}),(function(n){return n.isLoading?"var(--color-blue)":"transparent"})),l=u.Z.span(o||(o=(0,i.Z)(["\n  display: inline-block;\n  width: ",";\n  height: ",";\n\n  border: 2px solid #fff;\n  border-bottom-color: transparent;\n  border-radius: 50%;\n\n  animation: rotation 0.7s linear infinite;\n  opacity: 0.6;\n\n  @keyframes rotation {\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n"])),(function(n){var e=n.size;return(0,a.calcCSSValue)(e)}),(function(n){var e=n.size;return(0,a.calcCSSValue)(e)}))},1284:function(n,e,t){t.r(e),t.d(e,{OptionButtons:function(){return f}});var r=t(1413),o=t(9439),i=t(5987),u=t(2791),c=t(2007),a=t(7987),s=t(2703),l=t(184),d=["items","value","onClick"],f=function(n){var e=n.items,t=n.value,c=n.onClick,f=(0,i.Z)(n,d),p=(0,u.useState)(t),g=(0,o.Z)(p,2),h=g[0],v=g[1];(0,u.useEffect)((function(){v(t)}),[t]);var x=function(n){v(n),c&&c((0,s.normalizeStr)(n))},m=(0,s.getList)(e);return h||v(m[0]),m.length>0&&(0,l.jsx)(a.OptionsList,(0,r.Z)((0,r.Z)({},f),{},{children:m.map((function(n){return(0,l.jsx)(a.OptionButton,{active:h===n,onClick:function(){return x(n)},children:n},n)}))}))};f.propType={items:(0,c.oneOfType)([c.string,(0,c.arrayOf)(c.string)]),value:c.string,onClick:c.func}},7987:function(n,e,t){t.r(e),t.d(e,{OptionButton:function(){return s},OptionsList:function(){return a}});var r,o,i=t(168),u=t(3820),c=t(7573),a=u.Z.div(r||(r=(0,i.Z)(["\n  ",";\n"])),(0,c.FlexCentered)("gap: 8px")),s=(0,u.Z)(c.ButtonBase)(o||(o=(0,i.Z)(["\n  position: relative;\n  padding: 5px 12px 5px 12px;\n\n  font-family: inherit;\n  font-size: 12px;\n  letter-spacing: -0.3px;\n  text-transform: capitalize;\n\n  @media screen and (min-width: 320px) {\n    font-size: inherit;\n  }\n\n  border-radius: calc(var(--border-radius) * 0.8);\n  ",";\n\n  color: ",";\n\n  background-color: ",";\n\n  &:focus-visible,\n  &:hover {\n    background-color: ",";\n  }\n"])),(0,c.TransitionBase)("color background-color"),(function(n){return n.active?"white":"var(--color-text)"}),(function(n){return n.active?"var(--color-orange)":"transparent"}),(function(n){return!n.active&&"lightgray"}))},5415:function(n,e,t){t.r(e);var r=t(3433),o=t(9439),i=t(2791),u=t(3179),c=t(7573),a=t(1284),s=t(3535),l=t(7505),d=t(2853),f=t(5022),p=t(184),g=new f.default;e.default=function(n){var e=n.loader,t=(0,i.useState)("day"),f=(0,o.Z)(t,2),h=f[0],v=f[1],x=(0,i.useState)(null),m=(0,o.Z)(x,2),k=m[0],Z=m[1],b=(0,i.useState)([]),C=(0,o.Z)(b,2),S=C[0],w=C[1],j=(0,i.useState)(!1),y=(0,o.Z)(j,2),B=y[0],T=y[1],L=(0,i.useRef)(1),z=(0,i.useRef)(1);(0,i.useEffect)((function(){g.getTrendingMovies(h).then((function(n){w(n.results),L.current=n.total_pages})).catch((function(n){Z(n),console.log(n)}))}),[h]);var O=B&&L.current>0&&z.current<L.current;return(0,p.jsxs)(p.Fragment,{children:[k&&(0,p.jsx)(l.ErrorMessage,{error:k}),!k&&(null===S||void 0===S?void 0:S.length)>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(d.SubHeader,{children:(0,p.jsx)(a.OptionButtons,{items:"day week",onClick:v,value:h})}),(0,p.jsx)(c.PageTitle,{style:{marginBottom:35},children:"Trends"}),(0,p.jsx)(u.default,{data:S,loader:e,onLoad:function(){return T(!0)}}),O&&(0,p.jsx)(s.LoadMoreBtn,{onClick:function(n){z.current=n,g.getTrendingMovies(h,{page:z.current}).then((function(n){var e=n.results;w((function(n){return[].concat((0,r.Z)(n),(0,r.Z)(e))}))})).catch(Z)},style:{marginTop:40}})]})]})}}}]);
//# sourceMappingURL=5415.1fe96f31.chunk.js.map